{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yatinsatija/Desktop/e-medic-new/e-medic-frontend/src/pages/EPHARMACY/MyOrders/MyOrders.js\";\nimport React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport { Link, useHistory } from \"react-router-dom\";\nexport default class MyOrders extends Component {\n  constructor(props) {\n    super(props);\n\n    this.billSet = oid => {\n      localStorage.setItem(\"orderId\", oid);\n    };\n\n    this.state = {\n      uName: localStorage.getItem(\"email\"),\n      orders: [],\n      isVal: [],\n      hash: {}\n    };\n  }\n\n  async componentWillMount() {\n    await Axios.post(\"http://localhost:3001/myorders\", {\n      user: this.state.uName,\n      test: 1\n    }).then(response => {\n      this.setState({\n        orders: response.data\n      });\n    });\n    await this.state.orders.map(val => {\n      Axios.post(\"http://localhost:3001/progress\", {\n        checkID: val.oid\n      }).then(response => {\n        console.log(response);\n        var val1 = response.data === \"yes\"; // console.log(val1)\n\n        var newInput = Object.assign({}, this.state.hash, {\n          [val.oid]: val1\n        });\n        this.setState({\n          hash: newInput\n        });\n      }); // console.log(this.state.hash)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Order ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), this.state.orders.map((val, key) => {\n          // console.log(this.state.hash)\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: val.oid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.hash[val.oid] ? /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/order\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    marginLeft: \"45%\"\n                  },\n                  onClick: () => {\n                    this.billSet(val.oid);\n                  },\n                  children: \"Download Bill\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Validation in Progress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/yatinsatija/Desktop/e-medic-new/e-medic-frontend/src/pages/EPHARMACY/MyOrders/MyOrders.js"],"names":["React","Component","Axios","Link","useHistory","MyOrders","constructor","props","billSet","oid","localStorage","setItem","state","uName","getItem","orders","isVal","hash","componentWillMount","post","user","test","then","response","setState","data","map","val","checkID","console","log","val1","newInput","Object","assign","render","width","key","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nexport default class MyOrders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uName: localStorage.getItem(\"email\"),\n      orders: [],\n      isVal: [],\n      hash: {},\n    };\n  }\n  async componentWillMount() {\n    await Axios.post(\"http://localhost:3001/myorders\", {\n      user: this.state.uName,\n      test: 1,\n    }).then((response) => {\n      this.setState({\n        orders: response.data,\n      });\n    });\n\n    await this.state.orders.map((val) => {\n      Axios.post(\"http://localhost:3001/progress\", {\n        checkID: val.oid,\n      }).then((response) => {\n        console.log(response);\n        var val1 = response.data === \"yes\";\n        // console.log(val1)\n        var newInput = Object.assign({}, this.state.hash, { [val.oid]: val1 });\n        this.setState({\n          hash: newInput,\n        });\n      });\n      // console.log(this.state.hash)\n    });\n  }\n\n  billSet = (oid) => {\n    localStorage.setItem(\"orderId\", oid);\n  };\n\n  render() {\n    return (\n      <div>\n        <table style={{ width: \"100%\" }}>\n          <tr>\n            <td>Order ID</td>\n          </tr>\n          {this.state.orders.map((val, key) => {\n            // console.log(this.state.hash)\n            return (\n              <tr>\n                <td>{val.oid}</td>\n                <td>\n                  {this.state.hash[val.oid] ? (\n                    <Link to=\"/order\">\n                      <button\n                        style={{ marginLeft: \"45%\" }}\n                        onClick={() => {\n                          this.billSet(val.oid);\n                        }}\n                      >\n                        Download Bill\n                      </button>\n                    </Link>\n                  ) : (\n                    <p>Validation in Progress</p>\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n        </table>\n        {/* {this.state.orders.map((val, key) => {\n                    return (\n                        <div>\n                            <div>{val.oid}</div>\n                            <button>Download Bill</button>\n                        </div>\n                        \n                    );\n                })} */}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}