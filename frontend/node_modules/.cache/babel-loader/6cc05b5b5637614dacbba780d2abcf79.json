{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yatinsatija/Desktop/e-medic-new/e-medic-frontend/src/pages/EPHARMACY/MyOrders/MyOrders.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nimport { Link, useHistory } from \"react-router-dom\";\nexport default class MyOrders extends Component {\n  constructor(props) {\n    super(props);\n\n    this.billSet = oid => {\n      localStorage.setItem('orderId', oid);\n    };\n\n    this.state = {\n      uName: localStorage.getItem('name'),\n      orders: [],\n      isVal: [],\n      hash: {}\n    };\n  }\n\n  async componentWillMount() {\n    await Axios.post(\"http://localhost:3001/myorders\", {\n      user: this.state.uName,\n      test: 1\n    }).then(response => {\n      this.setState({\n        orders: response.data\n      });\n    });\n    await this.state.orders.map(val => {\n      Axios.post(\"http://localhost:3001/progress\", {\n        checkID: val.oid\n      }).then(response => {\n        console.log(response);\n        var val1 = response.data === 'yes'; // console.log(val1)\n\n        var newInput = Object.assign({}, this.state.hash, {\n          [val.oid]: val1\n        });\n        this.setState({\n          hash: newInput\n        });\n      }); // console.log(this.state.hash)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Order ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), this.state.orders.map((val, key) => {\n          // console.log(this.state.hash)\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: val.oid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: this.state.hash[val.oid] ? /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/order\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    marginLeft: \"45%\"\n                  },\n                  onClick: () => {\n                    this.billSet(val.oid);\n                  },\n                  children: \"Download Bill\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 83\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 65\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Validation in Progress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 187\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/yatinsatija/Desktop/e-medic-new/e-medic-frontend/src/pages/EPHARMACY/MyOrders/MyOrders.js"],"names":["React","Component","Axios","Link","useHistory","MyOrders","constructor","props","billSet","oid","localStorage","setItem","state","uName","getItem","orders","isVal","hash","componentWillMount","post","user","test","then","response","setState","data","map","val","checkID","console","log","val1","newInput","Object","assign","render","width","key","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Axios from 'axios';\nimport { Link, useHistory } from \"react-router-dom\";\n\nexport default class MyOrders extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            uName: localStorage.getItem('name'),\n            orders: [],\n            isVal: [],\n            hash: {}\n        }\n    };\n    async componentWillMount() {\n        await Axios.post(\"http://localhost:3001/myorders\", {\n            user: this.state.uName,\n            test: 1\n        }).then((response) => {\n            this.setState({\n                orders: response.data\n            })\n        });\n\n         await this.state.orders.map((val) => {\n            Axios.post(\"http://localhost:3001/progress\", {\n                checkID: val.oid\n            }).then((response) => {\n                console.log(response)\n                var val1 = (response.data==='yes');\n                // console.log(val1)\n                var newInput = Object.assign({},this.state.hash, {[val.oid]: val1});\n                this.setState({\n                    hash: newInput\n                  })\n            });\n            // console.log(this.state.hash)\n\n        })\n    }\n\n    billSet = (oid) => {\n        localStorage.setItem('orderId',oid)\n    }\n\n    render() {\n        return (\n            <div>\n                <table style={{ width: \"100%\" }}>\n                    <tr>\n                        <td>Order ID</td>\n                    </tr>\n                    {this.state.orders.map((val, key) => {\n                        // console.log(this.state.hash)\n                        return (\n                            <tr>\n                                <td>{val.oid}</td>\n                                <td>\n                                    {(this.state.hash[val.oid])?<Link to=\"/order\"><button style={{marginLeft: \"45%\"}} onClick={()=>{this.billSet(val.oid)}}>Download Bill</button></Link>:<p>Validation in Progress</p>}\n                                </td>\n                            </tr>\n                        )\n                    })}\n\n                </table>\n                {/* {this.state.orders.map((val, key) => {\n                    return (\n                        <div>\n                            <div>{val.oid}</div>\n                            <button>Download Bill</button>\n                        </div>\n                        \n                    );\n                })} */}\n\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}